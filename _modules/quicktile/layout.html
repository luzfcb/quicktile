
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>quicktile.layout &#8212; QuickTile 0.4 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="http://ssokolow.com/quicktile/_modules/quicktile/layout.html"/>
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h1 class="logo"><a href="../../index.html">QuickTile</a></h1>



<p class="blurb">Keyboard-driven Window Tiling for your existing X11 window manager</p>








    

<p>
<a class="badge" href="https://travis-ci.org/ssokolow/quicktile">
    <img
        alt="CI Test Status"
        src="https://secure.travis-ci.org/ssokolow/quicktile.svg?branch=master"
    />
</a>
</p>


<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script><div class="badges">
    <p><a href="apt:python3,python3-pip,python3-setuptools,python3-gi,python3-xlib,python3-dbus,gir1.2-glib-2.0,gir1.2-gtk-3.0,gir1.2-wnck-3.0" class="btn" title="Install from configured repositories on Debian-based distros"><img src="../../_static/img/debian_12.png" alt="Debian"><img src="../../_static/img/ubuntu_12.png" alt="Ubuntu"><img src="../../_static/img/mint_12.png" alt="Mint"> Install Dependencies</a></p>
    <p><a href="http://github.com/ssokolow/quicktile/zipball/master" class="btn">Download QuickTile</a></p>
    <p><a href="https://www.gnu.org/licenses/old-licenses/gpl-2.0.en.html"><img src="../../_static/license.svg" alt="License: GPLv2" /></a></p>
</div><div class="contrib_box">
    <h3>Tip Jar</h3>
    <dl>
        <dt>Code (Best)</dt>
        <dd class="icons">
            <ul class="icons">
                <li><a href="https://github.com/ssokolow/quicktile"
                        title="GitHub Repo"><img
                        src="../../_static/contrib_box/github.png"
                        alt="GitHub" /></a></li>
                <li><a href="https://github.com/ssokolow/quicktile/issues"
                        title="Bug Tracker"><img
                        src="../../_static/contrib_box/bug.png"
                        alt="Bug Tracker" /></a></li>
            </ul>
        </dd>
        <dt>Publicity (Better)</dt>
        <dd>Show your friends</dd>
        <dt>Snacks (Good)</dt>
        <dd class="icons">
            <ul class="icons">
                <li><a href="https://flattr.com/thing/674146"
                        title="Flattr"><img
                        src="../../_static/contrib_box/flattr.png"
                        alt="Flattr" /></a></li>
                <li><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top"><input type="hidden" name="cmd" value="_s-xclick"><input type="hidden" name="hosted_button_id" value="EFWRR7EAQ993S"><input type="image" src="../../_static/contrib_box/paypal.png" name="submit" alt="PayPal" title="PayPal"></form></li>
                <li><a title="BitCoin"
                    href="bitcoin:1Kp1i3nahunzzFs5a3mMF46uzca4oANH5C?label=QuickTile%20Donations"
                    ><img
                    src="../../_static/contrib_box/bitcoin.png"
                    alt="BitCoin"
                /></a></li>
            </ul>
        </dd>
    </dl>
</div>
<!--
    bug.png and wrench.png from the Silk Icons set by Mark James, available at
    http://www.famfamfam.com/lab/icons/silk/
    are used under the Creative Commons Attribution 2.5 license.
-->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for quicktile.layout</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Layout calculation code&quot;&quot;&quot;</span>

<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Stephan Sokolow (deitarion/SSokolow)&quot;</span>
<span class="n">__license__</span> <span class="o">=</span> <span class="s2">&quot;GNU GPL 2.0 or later&quot;</span>

<span class="c1"># Silence PyLint being flat-out wrong about MyPy type annotations and</span>
<span class="c1"># complaining about my grouped imports</span>
<span class="c1"># pylint: disable=unsubscriptable-object</span>
<span class="c1"># pylint: disable=wrong-import-order</span>

<span class="kn">import</span> <span class="nn">math</span>

<span class="kn">from</span> <span class="nn">.util</span> <span class="kn">import</span> <span class="n">Gravity</span><span class="p">,</span> <span class="n">Rectangle</span>

<span class="c1"># -- Type-Annotation Imports --</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Union</span>
<span class="kn">from</span> <span class="nn">.util</span> <span class="kn">import</span> <span class="n">GeomTuple</span><span class="p">,</span> <span class="n">PercentRectTuple</span>

<span class="c1">#: MyPy type alias for either `Rectangle` or `GeomTuple`</span>
<span class="n">Geom</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="n">Rectangle</span><span class="p">,</span> <span class="n">GeomTuple</span><span class="p">]</span>  <span class="c1"># pylint: disable=invalid-name</span>
<span class="c1"># --</span>


<div class="viewcode-block" id="check_tolerance"><a class="viewcode-back" href="../../apidocs/layout.html#quicktile.layout.check_tolerance">[docs]</a><span class="k">def</span> <span class="nf">check_tolerance</span><span class="p">(</span><span class="n">distance</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">monitor_geom</span><span class="p">:</span> <span class="n">Rectangle</span><span class="p">,</span>
        <span class="n">tolerance</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check whether a distance is within a tolerance value calculated as a</span>
<span class="sd">        percentage of a monitor&#39;s size.</span>

<span class="sd">    :param distance: A distance in pixels.</span>
<span class="sd">    :param monitor_geom: A ``Rectangle`` representing the monitor geometry.</span>
<span class="sd">    :param tolerance: A value between 0.0 and 1.0, inclusive, which represents</span>
<span class="sd">        a percentage of the monitor size.</span>

<span class="sd">    .. note:: This is not currently in use but is retained for when future</span>
<span class="sd">        plans make it necessary to design reliable &quot;invalidate cached data if</span>
<span class="sd">        the window was repositioned/resized without QuickTile&quot; code.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Take the euclidean distance of the monitor&#39;s width and height and convert</span>
    <span class="c1"># `distance` into a percentage of it, then test against `tolerance`.</span>
    <span class="k">return</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span> <span class="o">/</span>
           <span class="n">math</span><span class="o">.</span><span class="n">hypot</span><span class="p">(</span><span class="n">monitor_geom</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">monitor_geom</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
            <span class="p">)</span> <span class="o">&lt;</span> <span class="n">tolerance</span></div>


<div class="viewcode-block" id="resolve_fractional_geom"><a class="viewcode-back" href="../../apidocs/layout.html#quicktile.layout.resolve_fractional_geom">[docs]</a><span class="k">def</span> <span class="nf">resolve_fractional_geom</span><span class="p">(</span><span class="n">fract_geom</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">PercentRectTuple</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">],</span>
        <span class="n">monitor_rect</span><span class="p">:</span> <span class="n">Rectangle</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Rectangle</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Resolve proportional (eg. ``0.5``) and preserved (``None``) coordinates.</span>

<span class="sd">    :param fract_geom: An ``(x, y, w, h)`` tuple containing monitor-relative</span>
<span class="sd">        values in the range from 0.0 to 1.0, inclusive, or a</span>
<span class="sd">        :class:`quicktile.util.Rectangle` which will be passed through without</span>
<span class="sd">        modification.</span>
<span class="sd">    :param monitor_rect: A :class:`quicktile.util.Rectangle` defining the</span>
<span class="sd">        bounding box of the monitor (or other desired region) within the</span>
<span class="sd">        desktop.</span>
<span class="sd">    :returns: A rectangle with absolute coordinates derived from</span>
<span class="sd">        ``monitor_rect``.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fract_geom</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">fract_geom</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Rectangle</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="n">fract_geom</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">monitor_rect</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
            <span class="n">y</span><span class="o">=</span><span class="n">fract_geom</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">monitor_rect</span><span class="o">.</span><span class="n">height</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="n">fract_geom</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">monitor_rect</span><span class="o">.</span><span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">fract_geom</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">monitor_rect</span><span class="o">.</span><span class="n">height</span><span class="p">)</span></div>


<div class="viewcode-block" id="GravityLayout"><a class="viewcode-back" href="../../apidocs/layout.html#quicktile.layout.GravityLayout">[docs]</a><span class="k">class</span> <span class="nc">GravityLayout</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>  <span class="c1"># pylint: disable=too-few-public-methods</span>
    <span class="sd">&quot;&quot;&quot;Helper for translating top-left relative dimensions to other corners.</span>

<span class="sd">    Used to generate :func:`quicktile.commands.cycle_dimensions` presets.</span>

<span class="sd">    Expects to operate on decimal percentage values. (0 ≤ x ≤ 1)</span>

<span class="sd">    :param margin_x: Horizontal margin to apply when calculating window</span>
<span class="sd">        positions, as decimal percentage of screen width.</span>
<span class="sd">    :param margin_y: Vertical margin to apply when calculating window</span>
<span class="sd">        positions, as decimal percentage of screen height.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># pylint: disable=no-member</span>
    <span class="c1">#: A mapping of possible window alignments relative to the monitor/desktop</span>
    <span class="c1">#: as a mapping from formerly manually specified command names to values</span>
    <span class="c1">#: the :any:`quicktile.util.Gravity` enum can take on.</span>
    <span class="c1">#:</span>
    <span class="c1">#: .. todo:: Look into whether I can factor :any:`GRAVITIES` away entirely.</span>
    <span class="n">GRAVITIES</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">x</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">),</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">Gravity</span><span class="p">,</span> <span class="n">x</span><span class="p">))</span> <span class="k">for</span>
        <span class="n">x</span> <span class="ow">in</span> <span class="n">Gravity</span><span class="o">.</span><span class="n">__members__</span><span class="p">)</span>  <span class="c1"># type: Dict[str, Gravity]</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">margin_x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">margin_y</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>  <span class="c1"># type: (int, int) -&gt; None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">margin_x</span> <span class="o">=</span> <span class="n">margin_x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">margin_y</span> <span class="o">=</span> <span class="n">margin_y</span>

    <span class="c1"># pylint: disable=too-many-arguments</span>
<div class="viewcode-block" id="GravityLayout.__call__"><a class="viewcode-back" href="../../apidocs/layout.html#quicktile.layout.GravityLayout.__call__">[docs]</a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">width</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                 <span class="n">height</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                 <span class="n">gravity</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s1">&#39;top-left&#39;</span><span class="p">,</span>
                 <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="kc">None</span>
                 <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PercentRectTuple</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return a relative ``(x, y, w, h)`` tuple relative to ``gravity``.</span>

<span class="sd">        This function takes and returns percentages, represented as decimals</span>
<span class="sd">        in the range ``0 ≤ x ≤ 1``, which can be multiplied by width and</span>
<span class="sd">        height values in actual units to produce actual window geometry.</span>

<span class="sd">        It can be used in two ways:</span>

<span class="sd">          1. If called **without** ``x`` and ``y`` values, it will compute a</span>
<span class="sd">          geometry tuple which will align a window ``w`` wide and ``h`` tall</span>
<span class="sd">          according to ``geometry``.</span>

<span class="sd">          2. If called **with** ``x`` and ``y`` values, it will translate a</span>
<span class="sd">          geometry tuple which is relative to the top-left corner so that it is</span>
<span class="sd">          instead relative to another corner.</span>

<span class="sd">        :param width: Desired width as a decimal-form percentage</span>
<span class="sd">        :param height: Desired height as a decimal-form percentage</span>
<span class="sd">        :param gravity: Desired window alignment from :any:`GRAVITIES`</span>
<span class="sd">        :param x: Desired horizontal position if not the same as ``gravity``</span>
<span class="sd">        :param y: Desired vertical position if not the same as ``gravity``</span>

<span class="sd">        :returns: ``(x, y, w, h)`` with all values represented as decimal-form</span>
<span class="sd">            percentages.</span>

<span class="sd">        .. todo:: Consider writing a percentage-based equivalent to</span>
<span class="sd">            :class:`quicktile.util.Rectangle`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">GRAVITIES</span><span class="p">[</span><span class="n">gravity</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">GRAVITIES</span><span class="p">[</span><span class="n">gravity</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">offset_x</span> <span class="o">=</span> <span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">GRAVITIES</span><span class="p">[</span><span class="n">gravity</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">offset_y</span> <span class="o">=</span> <span class="n">height</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">GRAVITIES</span><span class="p">[</span><span class="n">gravity</span><span class="p">]</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">return</span> <span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">offset_x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">margin_x</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                <span class="nb">round</span><span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">offset_y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">margin_y</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                <span class="nb">round</span><span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">margin_x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">),</span>
                <span class="nb">round</span><span class="p">(</span><span class="n">height</span> <span class="o">-</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">margin_y</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">3</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="make_winsplit_positions"><a class="viewcode-back" href="../../apidocs/layout.html#quicktile.layout.make_winsplit_positions">[docs]</a><span class="k">def</span> <span class="nf">make_winsplit_positions</span><span class="p">(</span><span class="n">columns</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">PercentRectTuple</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Generate the classic WinSplit Revolution tiling presets</span>

<span class="sd">    :params columns: The number of columns that each tiling preset should be</span>
<span class="sd">        built around.</span>
<span class="sd">    :return: A dict of presets ready to feed into</span>
<span class="sd">        :meth:`quicktile.commands.CommandRegistry.add_many`.</span>

<span class="sd">    See :ref:`ColumnCount &lt;ColumnCount&gt;` in the configuration section of the</span>
<span class="sd">    manual for further details.</span>

<span class="sd">    .. todo:: Plumb :meth:`GravityLayout` arguments into the config</span>
<span class="sd">        file and figure out how to generalize :func:`make_winsplit_positions`</span>
<span class="sd">        into user-customizable stuff as much as possible.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">gvlay</span> <span class="o">=</span> <span class="n">GravityLayout</span><span class="p">()</span>
    <span class="n">col_width</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">columns</span>
    <span class="n">cycle_steps</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">col_width</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">columns</span><span class="p">))</span>

    <span class="n">center_steps</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,)</span> <span class="o">+</span> <span class="n">cycle_steps</span>
    <span class="n">edge_steps</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,)</span> <span class="o">+</span> <span class="n">cycle_steps</span>

    <span class="n">positions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;center&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">gvlay</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;center&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">width</span> <span class="ow">in</span> <span class="n">center_steps</span><span class="p">],</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="n">grav</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">):</span>
        <span class="n">positions</span><span class="p">[</span><span class="n">grav</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">gvlay</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">grav</span><span class="p">)</span> <span class="k">for</span> <span class="n">width</span> <span class="ow">in</span> <span class="n">center_steps</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">grav</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="s1">&#39;right&#39;</span><span class="p">):</span>
        <span class="n">positions</span><span class="p">[</span><span class="n">grav</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">gvlay</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">grav</span><span class="p">)</span> <span class="k">for</span> <span class="n">width</span> <span class="ow">in</span> <span class="n">edge_steps</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">grav</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;top-left&#39;</span><span class="p">,</span> <span class="s1">&#39;top-right&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom-left&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom-right&#39;</span><span class="p">):</span>
        <span class="n">positions</span><span class="p">[</span><span class="n">grav</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">gvlay</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">grav</span><span class="p">)</span> <span class="k">for</span> <span class="n">width</span> <span class="ow">in</span> <span class="n">edge_steps</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">positions</span></div>
</pre></div>

          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2009-2020, Stephan Sokolow et al.
      
    </div>

    
    <a href="https://github.com/ssokolow/quicktile" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>